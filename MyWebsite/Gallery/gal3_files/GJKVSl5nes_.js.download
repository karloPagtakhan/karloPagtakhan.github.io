if (self.CavalryLogger) { CavalryLogger.start_js(["3k\/XM"]); }

__d("ShowVideoEndScreenWithActions.react",["ix","cx","fbt","Arbiter","AsyncRequest","CenteredContainer.react","Image.react","LineClamp.react","Link.react","List.react","React","SubscriptionsHandler","URI","VideoHomeClickTargets","VideoHomeEvents","VideoHomeTypedLogger","VideoPlayerStates","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m="FollowingUser",n="UnfollowingUser";k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={following:this.props.following,playerState:""},this.$ShowVideoEndScreenWithActions4=function(){var u=this.props.vpc.getVideoID(),v=this.props.pageID,w=new(c("URI"))(this.state.following?this.props.unfollowUri:this.props.followUri).setQueryData({profile_id:v,location:this.props.location});new(c("AsyncRequest"))(w).setMethod("POST").send();var event=this.state.following?n:m;c("Arbiter").inform(event,{contextID:u,focusOnClick:false,profile_id:v,suppress:true});this.setState({following:!this.state.following})}.bind(this),q}o.prototype.componentDidMount=function(){this.$ShowVideoEndScreenWithActions1=new(c("SubscriptionsHandler"))();this.$ShowVideoEndScreenWithActions1.addSubscriptions(this.props.vpc.addListener("stateChange",function(){return this.setState({playerState:this.props.vpc.getState()})}.bind(this)),this.props.vpc.addListener("TahoeController/exitTahoe",function(){this.forceUpdate()}.bind(this)),c("Arbiter").subscribe(m,function(p,q){if(this.props.pageID==q.profile_id)this.setState({following:true})}.bind(this)),c("Arbiter").subscribe(n,function(p,q){if(this.props.pageID==q.profile_id)this.setState({following:false})}.bind(this)))};o.prototype.componentWillUnmount=function(){this.$ShowVideoEndScreenWithActions1.release()};o.prototype.render=function(){var p=this.props.vpc;if(!p||!p.isInline())return null;if(this.state.playerState!==c("VideoPlayerStates").FINISHED)return null;var q=this.$ShowVideoEndScreenWithActions2();new(c("VideoHomeTypedLogger"))().setEvent(c("VideoHomeEvents").SHOW_VIDEO_END_SCREEN_IMPRESSION).log();return c("React").createElement(c("CenteredContainer.react"),{className:"_2a_1",fullHeight:true,vertical:true},q)};o.prototype.$ShowVideoEndScreenWithActions3=function(){return c("React").createElement("li",{className:"_2a_2 _2la4"},c("React").createElement(c("Link.react"),{className:"_2pi9",onClick:this.$ShowVideoEndScreenWithActions4},c("React").createElement("div",{className:"_2a_3"},c("React").createElement("div",{className:"_2a_5"}),c("React").createElement("div",{className:"_2a_c _2a_f"},c("React").createElement(c("Image.react"),{src:h("114930"),size:"24"}))),c("React").createElement("div",{className:"_2a_e _2la8"},c("React").createElement(c("CenteredContainer.react"),{horizontal:false,fullHeight:true,vertical:true},j._("{=Follow this show} {=to get new episodes in your watchlist}",[j.param("=Follow this show",c("React").createElement("span",null,j._("Follow this show"))),j.param("=to get new episodes in your watchlist",c("React").createElement("span",{className:"_2laa"},j._("to get new episodes in your watchlist")))])))))};o.prototype.$ShowVideoEndScreenWithActions5=function(){var p=this.props.moreEpisodesUri;return c("React").createElement("li",{className:"_2a_2 _2la4"},c("React").createElement(c("Link.react"),{className:"_2pi9",href:p,onClick:function(){this.$ShowVideoEndScreenWithActions6(c("VideoHomeClickTargets").SHOW_VIDEO_END_SCREEN_MORE_EPISODES_BUTTON)}.bind(this)},c("React").createElement("div",{className:"_2a_3"},c("React").createElement("div",{className:"_2a_5"}),c("React").createElement("div",{className:"_2a_c _2la9"},c("React").createElement(c("Image.react"),{src:h("115397"),size:"24"}))),c("React").createElement("div",{className:"_2a_e _2la5"},c("React").createElement(c("CenteredContainer.react"),{horizontal:false,fullHeight:true,vertical:true},c("React").createElement(c("LineClamp.react"),{lines:2},j._("{=More Episodes} {=from} {=[show_name]}",[j.param("=More Episodes",c("React").createElement("span",null,j._("More Episodes"))),j.param("=from",c("React").createElement("span",{className:"_2laa"},j._("from"))),j.param("=[show_name]",c("React").createElement("span",{className:"_2laa"},j._("{show_name}",[j.param("show_name",this.props.pageTitle)])))]))))))};o.prototype.$ShowVideoEndScreenWithActions2=function(){var p=this.state.following?this.$ShowVideoEndScreenWithActions5():this.$ShowVideoEndScreenWithActions3();return c("React").createElement(c("List.react"),{border:"none",className:this.state.playerState!=="finished"?"hidden_elem":""},p)};o.prototype.$ShowVideoEndScreenWithActions6=function(p){new(c("VideoHomeTypedLogger"))().setEvent(c("VideoHomeEvents").CLICK).setClickTarget(p).log()};f.exports=o}),null);
__d("FollowButtonEpisodesNux",["AsyncRequest","Event","XBasicFBNuxGenShouldShowController"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$FollowButtonEpisodesNux1=i.getVideoPlayerController();this.$FollowButtonEpisodesNux2=j;this.$FollowButtonEpisodesNux3=k;this.$FollowButtonEpisodesNux4=true;this.$FollowButtonEpisodesNux5=l;this.$FollowButtonEpisodesNux6=m;this.$FollowButtonEpisodesNux7=n/100;this.$FollowButtonEpisodesNux1.addListener("updateStatus",this.$FollowButtonEpisodesNux8.bind(this));c("Event").listen(this.$FollowButtonEpisodesNux2,"click",function(){return this.$FollowButtonEpisodesNux9()}.bind(this))}h.prototype.$FollowButtonEpisodesNux8=function(event){"use strict";var i=event.position/this.$FollowButtonEpisodesNux1.getPlaybackDuration();if(i>this.$FollowButtonEpisodesNux7&&this.$FollowButtonEpisodesNux4){this.$FollowButtonEpisodesNux4=false;if(this.$FollowButtonEpisodesNux6)this.$FollowButtonEpisodesNux10();this.$FollowButtonEpisodesNux1.removeCurrentListener()}};h.prototype.$FollowButtonEpisodesNux9=function(){"use strict";if(this.$FollowButtonEpisodesNux4==true)this.$FollowButtonEpisodesNux3.hide();this.$FollowButtonEpisodesNux4=false};h.prototype.$FollowButtonEpisodesNux10=function(){"use strict";var i=null,j=c("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",this.$FollowButtonEpisodesNux5).getURI();new(c("AsyncRequest"))().setURI(j).setMethod("GET").setReadOnly(true).setHandler(function(k){i=k.getPayload();if(i.should_show_nux)this.$FollowButtonEpisodesNux3.show()}.bind(this)).send()};f.exports=h}),null);
__d("VideoPlayerControllerForFeedVideo",[],(function a(b,c,d,e,f,g){function h(i){"use strict";this.$VideoPlayerControllerForFeedVideo1=i}h.prototype.getVideoPlayerController=function(){"use strict";return this.$VideoPlayerControllerForFeedVideo1};f.exports=h}),null);
__d("VideoShowCTAButton",["Event","tidyEvent"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";c("tidyEvent")(c("Event").listen(i,"savedShow",function(k){j.swap()}))}f.exports=h}),null);
__d("VideoShowsShowmarkOverlay",["cx","CSS","VideoPlayerReason"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=4e3;j.init=function(k,l){"use strict";return new j(k,l)};function j(k,l){"use strict";__p&&__p();this.handleBeginPlayback=function(){__p&&__p();if(!this.$VideoShowsShowmarkOverlay4){if(this.$VideoShowsShowmarkOverlay5){clearTimeout(this.$VideoShowsShowmarkOverlay5);this.$VideoShowsShowmarkOverlay5=null}this.$VideoShowsShowmarkOverlay4=true;c("CSS").removeClass(this.$VideoShowsShowmarkOverlay2,"_3nj3")}this.$VideoShowsShowmarkOverlay5=setTimeout(function(){c("CSS").addClass(this.$VideoShowsShowmarkOverlay2,"_3nj3")}.bind(this),i)}.bind(this);this.handlePausePlayback=function(m){if(m===c("VideoPlayerReason").AUTOPLAY)this.$VideoShowsShowmarkOverlay4=false}.bind(this);this.$VideoShowsShowmarkOverlay1=k;this.$VideoShowsShowmarkOverlay2=l;this.$VideoShowsShowmarkOverlay4=true;this.$VideoShowsShowmarkOverlay5=null;k.addListener("beginPlayback",this.handleBeginPlayback);k.addListener("pauseRequested",this.handlePausePlayback)}f.exports=j}),null);